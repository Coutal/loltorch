#!/bin/bash
if [ "$1" == "" ]
then
    echo "Must provide model type!"
    exit
fi

model=$1.t7
if [ ! -r $model ]
then
    model=snapshot$1.t7
fi

if [ ! -r $model ]
then
    echo "Model file not found!"
    exit
fi

if [ "$2" != "" ]
then
    threshold="-threshold $2"
fi

count=0
samples=()
inputs=("Janna;DUO_SUPPORT;BOT" "Lucian;SOLO;TOP" "Shyvana;SOLO;JUNGLE")
for input in ${inputs[*]}
do
    IFS=';' read -ra crl <<< "$input"
    samples[$count]=$(th sample.lua -model $model -champion ${crl[0]} -role ${crl[1]} -lane ${crl[2]} $threshold)
    count=$((count+1))
done

echo "${samples[0]}"
for ((i=0; i<${#samples[*]}; i++))
do
    for ((j=0; j<${#samples[*]}; j++))
    do
        if [ $i -ne $j ] && [ $i -lt $j ]
        then
            diff <(echo "${samples[$i]}") <(echo "${samples[$j]}")
        fi
    done
done
